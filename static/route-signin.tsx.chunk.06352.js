(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"005r":function(e,n,t){"use strict";t.r(n);var r=t("hosL"),c=t("QRet"),a=t("MRB6"),s=t("QTFd");t("HWfQ");n.default=function(){var e=Object(c.j)(""),n=e[0],t=e[1],o=Object(c.h)((function(){return!0}),!1),i=o[0],u=o[1],l=Object(c.i)(""),h=Object(c.i)(""),b=Object(a.b)().dispatch;Object(c.d)((function(){fetch("http://localhost/api/refresh",{method:"POST",credentials:"include"}).then((function(e){return e.text()})).then((function(e){e&&u(1)}))}),[]);var d=Object(c.a)((function(e){l.current=e.currentTarget.value}),[]),p=Object(c.a)((function(e){h.current=e.currentTarget.value}),[]),f=Object(c.a)((function(e){return new Promise((function(n,r){var c;return e.preventDefault(),l.current&&h.current?Promise.resolve(fetch("http://localhost/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:new URLSearchParams({username:l.current,password:h.current})}).then((function(e){return e.json()}))).then((function(e){try{return(c=e).success||"Already signin in"===c.info?(b("UPDATE_USERNAME",l.current),u(1)):t(c.info),n()}catch(e){return r(e)}}),r):n(t("Username and Password can't be blank"))}))}),[]);return Object(r.h)("form",{id:"login",action:"http://localhost/login",method:"POST",onSubmit:f},Object(r.h)("h1",{class:"title"},"Signin"),Object(r.h)("label",{class:"label",for:"username"},"Username"),Object(r.h)("input",{class:"input username",name:"username",type:"text",placeholder:"Username",onInput:d}),Object(r.h)("label",{class:"label",for:"password"},"Password"),Object(r.h)("input",{class:"input password",name:"password",type:"password",placeholder:"Password",onChange:p}),n&&Object(r.h)("p",{class:"warning -hidden"},n),Object(r.h)("section",{class:"action"},Object(r.h)("button",{class:"login"},"Signin"),Object(r.h)(s.a,{href:"/signup"},Object(r.h)("a",{class:"link"},"Signup"))),i&&Object(r.h)(s.b,{href:"/"}))}},HWfQ:function(){}}]);
//# sourceMappingURL=route-signin.tsx.chunk.06352.js.map