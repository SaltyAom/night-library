(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"kLe+":function(e,t,o){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}o.r(t);var r=o("hosL"),c=o("QRet"),i=o("QTFd"),s=o("mdnY"),a=o("LT/T"),l=o("GNgh"),b=(o("tyAA"),o("MRB6"));t.default=()=>{let{username:e,initial:t}=Object(b.b)("username","initial"),{data:o,error:h}=Object(s.a)(["listBorrowed","{\n              listBorrowed {\n                data {\n                  id,\n                  title,\n                  author,\n                  price\n                }\n              }\n            }"],a.a),[d,u]=Object(c.j)([]),j=async e=>{let{success:t}=await Object(a.b)("returnBooks",`mutation {\n              returnBooks(books: ["${e}"]) {\n                success\n              }\n            }`);if(!t)return console.log("Something went wrong");u([...d,e])};return h?Object(r.h)("section",{id:"book-list",class:"-error"},Object(r.h)("h3",{class:"title"},"Failed to fetch"),Object(r.h)("p",{class:"detail"},"There is a problem requesting an list of books."),Object(r.h)("button",{class:"action",onClick:()=>window.location.reload()},"Retry")):!o||t?Object(r.h)("section",{id:"book-list"},Object(r.h)("h1",{class:"header"},"My Book"),Array(8).fill(null).map((e,t)=>Object(r.h)(l.a,{key:t,preload:!0,hiddenPrice:!0}))):e?o.length&&o.length!==d.length?Object(r.h)("section",{id:"book-list"},Object(r.h)("h1",{class:"header"},"My Book"),o.filter(e=>!d.includes(e.id)).map(e=>Object(r.h)(l.a,n({key:e.id},{book:e},{hiddenPrice:!0,onClick:j,action:"Return"})))):Object(r.h)("section",{id:"book-list",class:"-error"},Object(r.h)("h3",{class:"title"},"No Borrow"),Object(r.h)("p",{class:"detail"},"No book have been borrowed."),Object(r.h)(i.a,{href:"/"},Object(r.h)("button",{class:"action -compact"},"Borrow some book"))):Object(r.h)(i.b,{href:"/signin"})}}}]);